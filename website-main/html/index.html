<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Double Door Security System</title>

    <!-- Styles -->
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=VT323&display=swap" />
    <link rel="icon" href="../images/icons8-galaxy-store-32.png" type="image/png" />
  </head>

  <body
    data-aos-easing="ease"
    data-aos-duration="2000"
    data-aos-delay="2000"
    style="min-height: 100vh;"
  >

    <script
      src="https://kit.fontawesome.com/a076d05399.js"
      crossorigin="anonymous"
    ></script>
    <script>
      AOS.init();
    </script>

    <!-- *********************æ******************* S
*******************Main Page content********** 
*************************************************-->
    <section id="project-title" class="section-p1" style="padding: 0; background-color: #0a0a2344; color: white;" >
      <div class="background" style="background-image: url(../images/homepage/1.png);">
        <div  style="z-index: 20; width: 100vw; position: absolute;top: 43.2%;left: 0; text-align: left; rotate: 10.5deg; overflow: hidden;">
          <h1 id="PharmaGate" style="
            position:relative;
            top:0;
            left: 0;
            font-size:10rem;
            margin: 0;
            padding-inline: 10vw;
            text-shadow: 10px 10px 20px rgb(0, 0, 0, 0.3);
            animation:slideUp 2s ease-in-out forwards;">
            PHARMAGATE
          </h1>
        </div>
        <div style="position:sticky;top: 0; left: 0;z-index: 30;" >
          <div id="random-number" class="lcd-number" style="z-index: 35;">
          000000
          </div>
          <div class="background" style="background-image: url(../images/homepage/0-removebg-preview.png); position: absolute; top: 18px; z-index: 30;"></div>
        </div>
        <div style="position: relative;top: 30vh;"></div>
      </div>
      
    </section>
    <div class="content">
    <div id="side-bar" class="side-bar">
      <div class="side-bar-item"><a href="#project-overview"><h3>Overview</h3></a></div>
      <div class="side-bar-item"><a href="#Context"><h3>Context</h3></a></div>
      <div class="side-bar-item"><a href="#how-it-works"><h3>How It Works</h3></a></div>
      <div class="side-bar-item"><a href="#technology-stack"><h3>Technology Stack</h3></a></div>
      <div class="side-bar-item"><a href="#features"><h3>Features</h3></a></div>
      <div class="side-bar-item"><a href="#TR64"><h3>TR64</h3></a></div>
      <div class="side-bar-item"><a href="#security-threats-solutions"><h3>Security threats & Solution</h3></a></div>
      <div class="side-bar-item"><a href="#demo-gallery"><h3>Demo / Gallery</h3></a></div>
      <div class="side-bar-item"><a href="#threat"><h3>Security Threats</h3></a></div>
      <div class="side-bar-item"><a href="#future-scope"><h3>Future Scope</h3></a></div>
      <div class="side-bar-item"><a href="#code-base"><h3>Code Base</h3></a></div>
      <div class="side-bar-item"><a href="#ganttchart"><h3>Gantt Chart</h3></a></div>
      
    </div>

    <main class="main-content">
      <section id="table-of-contents" class="section-p1" data-aos="fade-up" style="max-width: 900px; margin: 40px auto; background: #f5f5f5; border-radius: 16px; box-shadow: 0 4px 24px rgba(0,0,0,0.07); padding: 40px 32px;">
  <h2 style="text-align: left; font-size: 2.2rem; color: #0a0a23; margin-bottom: 24px; letter-spacing: 1px;">Table of Contents (hover side navigation bar)</h2>
  <ul style="list-style: none; padding: 0; margin: 0;">
    <li style="margin-bottom: 18px;">
      <a href="#project-overview" style="display: block; font-size: 1.15rem; color: #7a1f42; text-decoration: none; font-weight: 600; padding: 12px 18px; border-radius: 8px; transition: background 0.2s;">
        Project Overview 
      </a>
    </li>
    <li style="margin-bottom: 18px;">
      <a href="#Context" style="display: block; font-size: 1.15rem; color: #7a1f42; text-decoration: none; font-weight: 600; padding: 12px 18px; border-radius: 8px; transition: background 0.2s;">
        Context
      </a>
    </li>
    <li style="margin-bottom: 18px;">
      <a href="#how-it-works" style="display: block; font-size: 1.15rem; color: #7a1f42; text-decoration: none; font-weight: 600; padding: 12px 18px; border-radius: 8px; transition: background 0.2s;">
        How It Works
      </a>
    </li>
    <li style="margin-bottom: 18px;">
      <a href="#technology-stack" style="display: block; font-size: 1.15rem; color: #7a1f42; text-decoration: none; font-weight: 600; padding: 12px 18px; border-radius: 8px; transition: background 0.2s;">
        Technology Stack
      </a>
    </li>
    <li style="margin-bottom: 18px;">
      <a href="#features" style="display: block; font-size: 1.15rem; color: #7a1f42; text-decoration: none; font-weight: 600; padding: 12px 18px; border-radius: 8px; transition: background 0.2s;">
        Key Features
      </a>
    </li>
    <li style="margin-bottom: 18px;">
      <a href="#TR64" style="display: block; font-size: 1.15rem; color: #7a1f42; text-decoration: none; font-weight: 600; padding: 12px 18px; border-radius: 8px; transition: background 0.2s;">
        TR64 Methodology
      </a>
    </li>
    <li style="margin-bottom: 18px;">
      <a href="#security-threats-solutions" style="display: block; font-size: 1.15rem; color: #7a1f42; text-decoration: none; font-weight: 600; padding: 12px 18px; border-radius: 8px; transition: background 0.2s;">
        Security Threats & Solutions
      </a>
    </li>
    <li style="margin-bottom: 18px;">
      <a href="#demo-gallery" style="display: block; font-size: 1.15rem; color: #7a1f42; text-decoration: none; font-weight: 600; padding: 12px 18px; border-radius: 8px; transition: background 0.2s;">
        Demo Video / Gallery
      </a>
    </li>
    <li style="margin-bottom: 18px;">
      <a href="#threat" style="display: block; font-size: 1.15rem; color: #7a1f42; text-decoration: none; font-weight: 600; padding: 12px 18px; border-radius: 8px; transition: background 0.2s;">
        Possible Methods to Compromise Our Systems
      </a>
    </li>
    <li style="margin-bottom: 18px;">
      <a href="#future-scope" style="display: block; font-size: 1.15rem; color: #7a1f42; text-decoration: none; font-weight: 600; padding: 12px 18px; border-radius: 8px; transition: background 0.2s;">
        Future Scope
      </a>
    </li>
    <li style="margin-bottom: 18px;">
      <a href="#code-base" style="display: block; font-size: 1.15rem; color: #7a1f42; text-decoration: none; font-weight: 600; padding: 12px 18px; border-radius: 8px; transition: background 0.2s;">
        Code Base
      </a>
    </li>
    <li>
      <a href="#ganttchart" style="display: block; font-size: 1.15rem; color: #7a1f42; text-decoration: none; font-weight: 600; padding: 12px 18px; border-radius: 8px; transition: background 0.2s;">
        Gantt Chart
      </a>
    </li>
  </ul>
</section>
      

    <section id="project-overview" class="section-p1" data-aos="fade" style="max-width: 1100px;">
      <h2>Project Overview</h2>
      <p>
        In hospitals and pharmaceutical labs, controlled substances like opioids and research materials require secure access to prevent misuse, theft, or tampering. 
        <br /><br />
        <strong>PharmaGate</strong> is a smart double-door security system that introduces multi-layer authentication and environmental awareness for high-security zones. 
        The system combines QR-based app authentication, biometric verification (face and fingerprint), tailgating prevention, and fire-response mechanisms. 
        It also includes real-time data monitoring and visualization using ThingSpeak, ensuring security logs are transparent and auditable.
        <br /><br />
        By enhancing physical and digital access control, PharmaGate improves both operational safety and regulatory compliance in sensitive medical environments.
      </p>
    </section>

     <section id="Context" class="section-p1" data-aos="fade-up">
      <h2>Context</h2>
      <p>
      In hospitals and pharmaceutical labs, there are controlled environments that contain controlled drugs and important R&D development
       which requires strict access. 
      According to a report done by PMCID
      “An increasing number of opioids and other controlled substances are being stolen from healthcare facilities,
       diverting medications from their intended medical use to be used or sold illicitly.”  

      This highlights the issue of the apparent lack of security among healthcare facilities.  
      </p>
      <h1 style="margin-top:100px; position: center; text-align: center;">"How can we improve the security access and traceability of controlled drugs in hospitals and pharmaceutical labs?"</h1> 
    </section>


<section id="how-it-works" class="section-p1" data-aos="fade-up">
  <h2>How It Works</h2>
  <div class="flow-container">
    <!-- First Row: Left to Right -->
    <div class="flow-row">
      <div class="flow-card">
        <h4>User Verification</h4>
        <p>
          User verification is done via email and password using a mobile app connected to Firebase.
        </p>
      </div>
      <div class="arrow">→</div>

      <div class="flow-card">
        <h4>Enter Code</h4>
        <p>
          User enters a code displayed on the LCD screen above the first door.
        </p>
      </div>
    </div>

    <!-- Down Arrow in the Middle -->
    <div  style="margin-left: 400px;" ="arrow-down">↓</div>

    <!-- Second Row: Left to Right -->
    <div class="flow-row">
      <div class="flow-card">
         <h4>Biometric Authentication</h4>
        <p>
          Biometric verification is performed using face ID and fingerprint scanning.
        </p>
      </div>
      <div class="arrow">←</div>

      <div class="flow-card">
         <h3>Tailgating Check</h3>
        <p>
          If no tailgating is detected, the user proceeds; if detected, a buzzer sounds, and the second door remains locked.
        </p>
      </div>
      
    </div>

    <!-- Down Arrow in the Middle -->
     <div  style="margin-right: 400px;" ="arrow-down">↓</div>


    <!-- Third Row: Left to Right -->
    <div class="flow-row">
      <div class="flow-card">
        <h4>RFID Scanning for Exit</h4>
        <p>
          The user scans their RFID card for exit authentication through Firebase.
        </p>
      </div>
      <div class="arrow">→</div>

      <div class="flow-card">
        <h4>Emergency System</h4>
        <p>
          In case of a fire, a temperature and humidity sensor triggers the emergency system and unlocks all doors.
        </p>
      </div>
    </div>
  </div>
</section>

<!-- Styles -->
<style>
  .flow-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  .flow-row {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .flow-card {
    background-color: #007bff;
    color: white;
    padding: 20px;
    margin: 15px;
    border-radius: 8px;
    text-align: center;
    width: 300px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  }

  .flow-card h4 {
    margin-bottom: 15px;
  }

  .arrow {
    font-size: 24px;
    margin: 20px;
  }

  .arrow-down {
    font-size: 36px;
    margin: 20px 0;
    position: relative;
    top: -15px; /* Adjust to vertically center the down arrow */
  }
</style>




    <section id="technology-stack" class="section-p1" data-aos="fade">
      <h2>Technology Stack</h2>
      <div class="technology-card-container">
        <div class="technology-card">
          <div class="technology-card-content">
            <div class="technology-card-heading">Mobile App</div>
            <div class="technology-card-description">User verification through email and password using a mobile app connected to Firebase</div>
          </div>
        </div>
        <div class="technology-card">
          <div class="technology-card-content">
            <div class="technology-card-heading">LCD Display</div>
            <div class="technology-card-description">Displays the entry code for the user to enter on the first door to gain access</div>
          </div>
        </div>
        <div class="technology-card">
          <div class="technology-card-content">
            <div class="technology-card-heading">PIR sensor</div>
            <div class="technology-card-description">Turns the LCD off if no one is detected</div>
          </div>
        </div>
        <div class="technology-card">
          <div class="technology-card-content">
            <div class="technology-card-heading">Servomotor</div>
            <div class="technology-card-description">Controls the opening and closing of both doors upon successful verification and biometric authentication</div>
          </div>
        </div>
        <div class="technology-card">
          <div class="technology-card-content">
            <div class="technology-card-heading">IR Sensor</div>
            <div class="technology-card-description">Detects tailgating at the first door, ensuring only one person enters at a time</div>
          </div>
        </div>
        <div class="technology-card">
          <div class="technology-card-content">
            <div class="technology-card-heading">Buzzer</div>
            <div class="technology-card-description">Alerts the user with a sound when tailgating is detected at the first door</div>
          </div>
        </div>
        <div class="technology-card">
          <div class="technology-card-content">
            <div class="technology-card-heading">Biometric Authentication</div>
            <div class="technology-card-description">Face ID and fingerprint scanning for secure second-door entry</div>
          </div>
        </div>
        <div class="technology-card">
          <div class="technology-card-content">
            <div class="technology-card-heading">Ultrasonic Sensor</div>
            <div class="technology-card-description">Measures the distance between the user and the face recognition camera to ensure proper positioning</div>
          </div>
        </div>
        <div class="technology-card">
          <div class="technology-card-content">
            <div class="technology-card-heading">LED Indicator</div>
            <div class="technology-card-description">Indicates whether the user is too close, too far, or at the correct distance from the camera using red and green lights</div>
          </div>
        </div>
        <div class="technology-card">
          <div class="technology-card-content">
            <div class="technology-card-heading">RFID</div>
            <div class="technology-card-description">Used for user exit authentication via RFID and Firebase integration</div>
          </div>
        </div>
        <div class="technology-card">
          <div class="technology-card-content">
            <div class="technology-card-heading">Temperature & Humidity Sensor</div>
            <div class="technology-card-description">Monitors temperature and humidity for fire detection. In case of a fire, it triggers an emergency unlock for all doors</div>
          </div>
        </div>
        <div class="technology-card">
          <div class="technology-card-content">
            <div class="technology-card-heading">Emergency Unlock Button</div>
            <div class="technology-card-description">In case of fire, the user presses the button to unlock all doors and allow evacuation</div>
          </div>
        </div>
        <div class="technology-card">
          <div class="technology-card-content">
            <div class="technology-card-heading">ThingSpeak</div>
            <div class="technology-card-description">Real-time data from the temperature, humidity, and user entry/exit events are logged and visualized on ThingSpeak for secure monitoring and traceability</div>
          </div>
        </div>
      </div>
    </section>

   <section id="features" class="section-p1" data-aos="fade-up" style="margin-bottom: 60px;">
  <h2>Key Features</h2>
  <table style="width:100%; border-collapse:collapse; background:#fff; border-radius:12px; overflow:hidden; box-shadow:0 2px 8px rgba(0,0,0,0.04); margin-top:24px;">
    <thead style="background:#7a1f42; color:#fff;">
      <tr>
        <th style="padding:16px; font-size:1.1rem; text-align:left;">Feature</th>
        <th style="padding:16px; font-size:1.1rem; text-align:left;">Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td style="padding:14px; vertical-align:top;"><strong>Dual-Door Access Control</strong></td>
        <td style="padding:14px; vertical-align:top;">Two-step access process with user verification, LCD code entry, and biometric authentication.</td>
      </tr>
      <tr style="background:#f5f5f5;">
        <td style="padding:14px; vertical-align:top;"><strong>App-Based Login</strong></td>
        <td style="padding:14px; vertical-align:top;">User authentication via email, password, and mobile app connected to Firebase for entry.</td>
      </tr>
      <tr>
        <td style="padding:14px; vertical-align:top;"><strong>LCD Code Input</strong></td>
        <td style="padding:14px; vertical-align:top;">User enters a code displayed on the LCD above the door to unlock the first door.</td>
      </tr>
      <tr style="background:#f5f5f5;">
        <td style="padding:14px; vertical-align:top;"><strong>Energy Saving</strong></td>
        <td style="padding:14px; vertical-align:top;">PIR sensor turns off LCD so as to save energy.</td>
      </tr>
      <tr>
        <td style="padding:14px; vertical-align:top;"><strong>Tailgating Detection</strong></td>
        <td style="padding:14px; vertical-align:top;">IR sensor ensures no tailgating. If detected, a buzzer sounds and the second door remains locked.</td>
      </tr>
      <tr style="background:#f5f5f5;">
        <td style="padding:14px; vertical-align:top;"><strong>Biometric Authentication</strong></td>
        <td style="padding:14px; vertical-align:top;">Face ID and fingerprint scanning used for secure access to the second door.</td>
      </tr>
      <tr>
        <td style="padding:14px; vertical-align:top;"><strong>Ultrasonic Sensor</strong></td>
        <td style="padding:14px; vertical-align:top;">Measures the distance between the user and the face recognition camera to ensure proper positioning.</td>
      </tr>
      <tr style="background:#f5f5f5;">
        <td style="padding:14px; vertical-align:top;"><strong>LED Indicator</strong></td>
        <td style="padding:14px; vertical-align:top;">LED lights up red if the user is too close or too far from the camera, and green when at the correct distance.</td>
      </tr>
      <tr>
        <td style="padding:14px; vertical-align:top;"><strong>RFID Exit Authentication</strong></td>
        <td style="padding:14px; vertical-align:top;">User scans their RFID card to exit, with Firebase authentication for secure exit.</td>
      </tr>
      <tr style="background:#f5f5f5;">
        <td style="padding:14px; vertical-align:top;"><strong>Fire Detection & Emergency Unlock</strong></td>
        <td style="padding:14px; vertical-align:top;">Temperature and humidity sensor detects fire and triggers an emergency unlock for all doors.</td>
      </tr>
      <tr>
        <td style="padding:14px; vertical-align:top;"><strong>ThingSpeak Data Logging</strong></td>
        <td style="padding:14px; vertical-align:top;">Logs data from temperature, humidity, and user entry/exit records for real-time visualization and traceability.</td>
      </tr>
    </tbody>
  </table>
</section>

<section id="TR64" class="section-p1" data-aos="fade-up">
  <h2>TR64</h2>
  <p>
    Using the TR64 methodology, we need to secure the IoT devices as well as the layers like communication, processing, cloud computing, and user interface layer. <br /><br />
    <b>Cryptographic Support:</b> TLS/SSL for MQTT, Certificates <br /><br />
    <b>Identification & Authentication:</b> Firebase, Number Codes, Biometrics <br /><br />
    <b>Network Protection:</b> WiFi secured, MQTT with TLS <br /><br />
    <b>Secure Function Protection:</b> Physical tamper protection <br /><br />
    <b>Data Protection:</b> Firebase logs secured, no reuse of codes <br /><br />
    <b>Access Protection:</b> Number Code > IR > Biometrics, locked sequence <br /><br />
    <b>Resiliency Support:</b> Emergency override, alarm unlock <br /><br />
    <b>Security Audit:</b> Logging of all attempts, Firebase logs <br /><br />

    <h3>Vendor Disclosure Checklist</h3>

    <!-- Cryptographic Support Section -->
    <h4>1. Cryptographic Support</h4>
    <table border="1" cellpadding="10" cellspacing="0" style="width:100%; text-align:left; border-collapse: collapse;">
  <thead>
    <tr style="background-color: #f2f2f2;">
      <th>ID</th>
      <th>Vendor Disclosure Checklist</th>
      <th>Y</th>
      <th>N</th>
      <th>NA</th>
      <th>Please Elaborate</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>CK-CS-01</td>
      <td>Do your devices and system employ current and industry accepted cryptographic techniques and best practices? 
        (Examples of best practices include: use of approved algorithms, sufficient key length, approved random number generators, 
        recommended crypto-period.)</td>
      <td><span class="checkbox-checked">&#10004;</span></td> 
      <td><span class="checkbox-unchecked">&#10008;</span></td> 
      <td><span class="checkbox-checked">&#10004;</span></td> 
      <td>ihseighseighsighighsgshgisdhigsdhgkjsdhgjksdgjkdshgkjsdh</td>
    </tr>
    <tr>
      <td>CK-CS-02</td>
      <td>Do you employ proper key management (generation, exchange, storage, destruction, replacement, etc.) techniques?</td>
      <td><span class="checkbox-checked">&#10004;</span></td> 
      <td><span class="checkbox-unchecked">&#10008;</span></td> 
      <td><span class="checkbox-unchecked">&#10008;</span></td> 
      <td></td>
    </tr>
  </tbody>
</table>

<h4>2. Security function protection </h4>
    <table border="1" cellpadding="10" cellspacing="0" style="width:100%; text-align:left; border-collapse: collapse;">
  <thead>
    <tr style="background-color: #f2f2f2;">
      <th>ID</th>
      <th>Vendor Disclosure Checklist</th>
      <th>Y</th>
      <th>N</th>
      <th>NA</th>
      <th>Please Elaborate</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>CK-FP-01</td>
      <td>Do you establish hardware Root-of-Trust?</td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td> 
      <td><span class="checkbox-checked">&#10004;</span></td>   
      <td>ihseighseighsighighsgshgisdhigsdhgkjsdhgjksdgjkdshgkjsdh</td>
    </tr>
    <tr>
      <td>CK-FP-02 </td>
      <td>Do you employ secure boot? </td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td> 
      <td><span class="checkbox-checked">&#10004;</span></td> 
      <td></td>
    </tr>
  </tbody>
</table>

    <!-- Identification and Authentication Section -->
    <h4>3. Identification and Authentication</h4>
    <table border="1" cellpadding="10" cellspacing="0" style="width:100%; text-align:left; border-collapse: collapse;">
      <thead>
        <tr style="background-color: #f2f2f2;">
          <th>ID</th>
          <th>Vendor Disclosure Checklist</th>
          <th>Y</th>
          <th>N</th>
          <th>NA</th>
          <th>Please Elaborate</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>CK-IA-01</td>
          <td>Do you employ unique, non-modifiable and verifiable identities for clients (user, device, gateway, application) and servers?</td>
          <td><span class="checkbox-checked">&#10004;</span></td>
          <td><span class="checkbox-checked">&#10004;</span></td>
          <td><span class="checkbox-checked">&#10004;</span></td>
          <td></td>
        </tr>
        <tr>
          <td>CK-IA-02</td>
          <td>Do you employ mutual authentication? For example, before establishing connections and after pre-defined intervals.</td>
          <td><span class="checkbox-checked">&#10004;</span></td>
          <td><span class="checkbox-checked">&#10004;</span></td>
          <td><span class="checkbox-checked">&#10004;</span></td>
          <td></td>
        </tr>
      </tbody>
    </table>

    <!-- Network Protection Section -->
    <h4>4. Network Protection</h4>
    <table border="1" cellpadding="10" cellspacing="0" style="width:100%; text-align:left; border-collapse: collapse;">
      <thead>
        <tr style="background-color: #f2f2f2;">
          <th>ID</th>
          <th>Vendor Disclosure Checklist</th>
          <th>Y</th>
          <th>N</th>
          <th>NA</th>
          <th>Please Elaborate</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>CK-NP-01</td>
          <td>Do you enforce network access control? For example, ensure explicit authorization to join a new network and/or allow remote access.</td>
          <td><span class="checkbox-checked">&#10004;</span></td>
          <td><span class="checkbox-checked">&#10004;</span></td>
          <td><span class="checkbox-checked">&#10004;</span></td>
          <td></td>
        </tr>
        <tr>
          <td>CK-NP-02</td>
          <td>Do you employ proven transport protocols with security controls properly activated? Examples include: Use of TLS for TCP payloads, Use of DTLS for UDP payloads. 
</td>
          <td><span class="checkbox-checked">&#10004;</span></td>
          <td><span class="checkbox-checked">&#10004;</span></td>
          <td><span class="checkbox-checked">&#10004;</span></td>
          <td>Examples include: Use of TLS for TCP payloads, use of DTLS for UDP payloads.</td>
        </tr>
         <tr>
          <td>CK-NP-03 </td>
          <td>Do you employ industry best practices for secure connectivity? Examples of industry best practices:Use of VPN or leased lines, Use of private mobile APNs from telecommunication operators when using a public mobile carrier network, Use of DNS pinning to prevent DNS spoofing, Use of traffic filtering based on type, port and destination, Use of certificate pinning, Employ TLS when using MQTT, Scan for open network ports, Use whitelisting to establish or deny connections from nontrusted sources.</td>
          <td><span class="checkbox-checked">&#10004;</span></td>
          <td><span class="checkbox-checked">&#10004;</span></td>
          <td><span class="checkbox-checked">&#10004;</span></td>
          <td></td>
        </tr>
        <tr>
          <td>CK-NP-04</td>
          <td>Do you segregate communication channels for trusted end points
from non-trusted ones? Examples include: Use of VLAN, Use of firewalls for DMZ, Use of unidirectional security gateway, Physical isolation. 
 </td>
          <td><span class="checkbox-checked">&#10004;</span></td>
          <td><span class="checkbox-checked">&#10004;</span></td>
          <td><span class="checkbox-checked">&#10004;</span></td>
          <td></td>
        </tr>
      </tbody>
    </table>

    <h4>5. Data protection</h4>
    <table border="1" cellpadding="10" cellspacing="0" style="width:100%; text-align:left; border-collapse: collapse;">
      <thead>
        <tr style="background-color: #f2f2f2;">
          <th>ID</th>
          <th>Vendor Disclosure Checklist</th>
          <th>Y</th>
          <th>N</th>
          <th>NA</th>
          <th>Please Elaborate</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>CK-DP-01</td>
          <td>Do you protect the confidentiality and integrity of your sensitive
data? in transit, in use, at rest </td>
          <td><span class="checkbox-checked">&#10004;</span></td>
          <td><span class="checkbox-checked">&#10004;</span></td>
          <td><span class="checkbox-checked">&#10004;</span></td>
          <td></td>
        </tr>
        <tr>
      <td>CK-DP-02</td>
      <td>Do you protect the authenticity and integrity of your codes and firmware? in transit, in use, at rest</td>
        <td><span class="checkbox-checked">&#10004;</span></td>
        <td><span class="checkbox-checked">&#10004;</span></td>
        <td><span class="checkbox-checked">&#10004;</span></td>
      <td></td>
    </tr>
    <tr style="background:#f5f5f5;">
      <td>CK-DP-03</td>
      <td>Do you ensure the authenticity and integrity of your data (e.g., inputs, commands and sensing data)? in transit, in use, at rest. Examples include: Validate incoming content-types, Validate response types, Validate HTTP methods against authorization credentials, Whitelist allowable HTTP methods, Define acceptable character set, Validate that input characters are acceptable, Encode/escape input and output.</td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td></td>
    </tr>
    <tr>
      <td>CK-DP-04</td>
      <td>Do you enforce access control to detect and prevent unauthorized data access and exfiltration, and filter your outputs?</td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td></td>
    </tr>
      </tbody>
    </table>
    <h4>6. Access Protection</h4>
<table border="1" cellpadding="10" cellspacing="0" style="width:100%; text-align:left; border-collapse: collapse;">
  <thead>
    <tr style="background-color: #f2f2f2;">
      <th>ID</th>
      <th>Vendor Disclosure Checklist</th>
      <th>Y</th>
      <th>N</th>
      <th>NA</th>
      <th>Please Elaborate</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>CK-AP-01</td>
      <td>Do you employ mechanisms to manage and secure local and/or remote access? Example mechanisms include: auto logoff, screen lock, lock-out for repeated unauthorised attempts, forced re-authorisation.</td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td></td>
    </tr>
    <tr style="background:#f5f5f5;">
      <td>CK-AP-02</td>
      <td>Do you send out-of-band notifications on impactful operations and/or alerts (e.g., credential reset, security update failures)?</td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td></td>
    </tr>
    <tr>
      <td>CK-AP-03</td>
      <td>Do you enforce access control to prevent unauthorised access to system interfaces, system files and removable media?</td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td></td>
    </tr>
    <tr style="background:#f5f5f5;">
      <td>CK-AP-04</td>
      <td>Do you employ anti-tamper mechanisms for resistance, evidence, detection and/or response?</td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td></td>
    </tr>
    <tr>
      <td>CK-AP-05</td>
      <td>Do you support multi-factor authentication for impactful operations (e.g., credential reset)?</td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td></td>
    </tr>
  </tbody>
</table>

<h4>7. Security Management</h4>
<table border="1" cellpadding="10" cellspacing="0" style="width:100%; text-align:left; border-collapse: collapse;">
  <thead>
    <tr style="background-color: #f2f2f2;">
      <th>ID</th>
      <th>Vendor Disclosure Checklist</th>
      <th>Y</th>
      <th>N</th>
      <th>NA</th>
      <th>Please Elaborate</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>CK-MT-01</td>
      <td>Do you employ proper user and password management? Examples include: Enforce strong password policy, enforce no default passwords, ensure password recovery and reset mechanism are secure.</td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td></td>
    </tr>
    <tr style="background:#f5f5f5;">
      <td>CK-MT-02</td>
      <td>Do you enforce proper access control to management functions? Examples include: Enforce least privilege, implement dual control for key management protection, use ABAC or RBAC, separation of duties for administrators.</td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td></td>
    </tr>
    <tr>
      <td>CK-MT-03</td>
      <td>Do you employ malware mitigation mechanisms? Examples include: Ensure file integrity using cryptographic hash, baseline normal behavior, detect unauthorized software, prohibit insecure bootloaders.</td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td></td>
    </tr>
    <tr style="background:#f5f5f5;">
      <td>CK-MT-04</td>
      <td>Do you secure remote management of devices, including sensor gateways? Examples include: Secure OTA updates, cryptographically secure software/firmware updates, platform integrity verification, restrict remote management to secure networks.</td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td></td>
    </tr>
  </tbody>
</table>

<h4>8. Resiliency Support</h4>
<table border="1" cellpadding="10" cellspacing="0" style="width:100%; text-align:left; border-collapse: collapse;">
  <thead>
    <tr style="background-color: #f2f2f2;">
      <th>ID</th>
      <th>Vendor Disclosure Checklist</th>
      <th>Y</th>
      <th>N</th>
      <th>NA</th>
      <th>Please Elaborate</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>CK-RS-01</td>
      <td>Does your device support integrity self-test, error detection and correction for critical functions and return to a safe state?</td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td></td>
    </tr>
    <tr style="background:#f5f5f5;">
      <td>CK-RS-02</td>
      <td>Do you safeguard against a compromised device from compromising the system? Examples include: Use of Perfect Forward Secrecy (PFS) for secure communication, Use of distinct secret keys for individual devices.</td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td></td>
    </tr>
    <tr>
      <td>CK-RS-03</td>
      <td>Do you employ mechanisms against failures from resource exhaustion and/or malicious attacks such as DDoS? Examples include: Monitor to ensure that cloud resources are sufficient to sustain services, Detect resource exhaustion for early preventive or corrective actions, Control the execution of resource-intensive software, Enforce power thresholds, Limit the number of concurrent sessions, Operate with excess capacity. 
</td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td></td>
    </tr>
    <tr style="background:#f5f5f5;">
      <td>CK-RS-04</td>
      <td>Do you conduct regular backups of system data (including settings)?</td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td></td>
    </tr>
  </tbody>
</table>

<h4>9. Security Audit</h4>
<table border="1" cellpadding="10" cellspacing="0" style="width:100%; text-align:left; border-collapse: collapse;">
  <thead>
    <tr style="background-color: #f2f2f2;">
      <th>ID</th>
      <th>Vendor Disclosure Checklist</th>
      <th>Y</th>
      <th>N</th>
      <th>NA</th>
      <th>Please Elaborate</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>CK-AU-01</td>
      <td>Do your devices and system record enough information (e.g., who does what and when) in audit logs and flag significant events? Example of events include: user logins, logouts, and unsuccessful authentication attempts; connection, disconnection, and unsuccessful connection attempts; unsuccessful authorization attempts; access to sensitive data; import and export of data from removable media; any change in access privileges; creation, modification, or deletion of data by users; impactful and remote operations; security update failures; and physical or emergency access attempts where possible.</td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td></td>
    </tr>

    <tr style="background:#f5f5f5;">
      <td>CK-AU-02</td>
      <td>Are your audit logs protected from modification, deletion, physical tampering, and sensitive data disclosure?</td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td></td>
    </tr>
  </tbody>
</table>

<h4>10. Lifecycle Protection</h4>
<table border="1" cellpadding="10" cellspacing="0" style="width:100%; text-align:left; border-collapse: collapse;">
  <thead>
    <tr style="background-color: #f2f2f2;">
      <th>ID</th>
      <th>Vendor Disclosure Checklist</th>
      <th>Y</th>
      <th>N</th>
      <th>NA</th>
      <th>Please Elaborate</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>CK-LP-01</td>
      <td>Have you conducted threat modeling to identify, analyze and mitigate threats to the system?</td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td></td>
    </tr>
    <tr style="background:#f5f5f5;">
      <td>CK-LP-02</td>
      <td>Did you design and develop the system using a secure systems engineering approach?</td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td></td>
    </tr>
    <tr>
      <td>CK-LP-03</td>
      <td>Do you implement and maintain the system with components from a secure supply chain, with no known vulnerabilities?</td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td></td>
      </tr>

      <tr>
      <td>CK-LP-05</td>
      <td>Do you ensure that the system is hardened before the "Operational" lifecycle phase? Examples of system hardening include: Remove all backdoors, remove all debug codes from the released version, change default configuration and disable unnecessary services, remove or tamper-covered JTAG, unneeded serial and ports before deployment, harden VM host properly, including disabling memory sharing between VM, remove default and hardcoded passwords.</td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td></td>
    </tr>

    
    <tr style="background:#f5f5f5;">
      <td>CK-LP-06</td>
      <td>Do you maintain an inventory of connected devices, software and firmware versions, applied patches and updates throughout the “Operational” lifecycle stage?</td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td></td>
    </tr>

    <tr>
      <td>CK-LP-07</td>
      <td>Do you conduct penetration testing and/or vulnerability assessment periodically, and before each major release?</td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td></td>
    </tr>

    <tr style="background:#f5f5f5;">
      <td>CK-LP-08</td>
      <td>Do you establish proper vulnerability disclosure and management? Examples include: Ensure the supply chain's capability to provide upgrades and patches, provide vulnerability disclosure and processes to track and respond promptly, provide firmware and software patches/updates for vulnerabilities discovered, employ proper change management processes to manage security patches or updates, notify and/or allow user to approve/reject updates, patches and changes to user settings, disclose minimum support period.</td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td></td>
    </tr>

    <tr>
      <td>CK-LP-09</td>
      <td>Do you ensure that identities, certificates and secrets are secured throughout the lifecycle (e.g., creation, provisioning, renewal and revocation)?</td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td></td>
    </tr>

    <tr style="background:#f5f5f5;">
      <td>CK-LP-10</td>
      <td>Do you sanitize devices and systems of security data and sensitive user data, before the "Reuse or Dispose" lifecycle stages?</td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td><span class="checkbox-checked">&#10004;</span></td>
      <td></td>
    </tr>
  </tbody>
  </table>  
  </p>
</section>

    <section id="security-threats-solutions" class="section-p1" data-aos="fade-up">
      <h2 style="text-align: center; font-size: 2.5rem; margin-bottom: 40px;">Security Threats & Solutions (click to flip)</h2>
      <div class="cas-card-container">
        <div class="cas-card" onclick="this.classList.toggle('flipped')">
          <div class="front"> 
            <h1 style="color: #000;">Security Threat 1:</h1><br><h1 style="color: #000;">Lack of Authentication</h1>
          </div>
          <div class="back">
            <h3 style="color: black;">Solution:</h3><br><h3 style="color: black;">Implement ThingSpeak certificate for secure data communication</h3>
          </div>
        </div>

        <div class="cas-card" onclick="this.classList.toggle('flipped')">
          <div class="front"> 
            <h1 style="color: #000;">Security Threat 2:</h1><br><h1 style="color: #000;">Mobile App and Firebase data is not encrypted</h1>
          </div>
          <div class="back">
            <h3 style="color: black;">Solution:</h3><br><h3 style="color: black;">Ensure the use of TLS and HTTP for secure communication between the mobile app and Firebase</h3>
          </div>
        </div>
      </div>
    </section>

    
    <section id="demo-gallery" class="section-p1" data-aos="fade-up">
      <h2>Data Visualisation with ThingsSpeak</h2>
      <!-- 📽️ Demo Video Placeholder -->

      <div style="width: 100vw; max-width: 900px; margin: 0 auto 40px auto; background-color: #f0f0f0; border-radius: 16px; box-shadow: 0 2px 8px rgba(0,0,0,0.04); padding: 24px 0; display: flex; flex-direction: column; align-items: center;">
  <img src="..\images\thingspeak1.jpg" alt="thingspeak visualisation" style="width: 100%; max-width: 800px; height: auto; object-fit: cover; border-radius: 12px; margin-bottom: 24px;">
  <p style="font-size: 1.5rem; color: #7a1f42; text-align: center; font-weight: 600; margin: 0;">
    The image above shows the data visualisation of the temperature and humidity sensor readings in real-time using ThingSpeak.
  </p>
</div>

      <div style="width: 100vw; max-width: 900px; margin: 0 auto 40px auto; background-color: #f0f0f0; border-radius: 16px; box-shadow: 0 2px 8px rgba(0,0,0,0.04); padding: 24px 0; display: flex; flex-direction: column; align-items: center;">
  <img src="..\images\thingspeak2.jpg" alt="thingspeak visualisation" style="width: 100%; max-width: 800px; height: auto; object-fit: cover; border-radius: 12px; margin-bottom: 24px;">
  <p style="font-size: 1.5rem; color: #7a1f42; text-align: center; font-weight: 600; margin: 0;">
    The image above shows the data visualisation of the user entry and exit records in real-time using ThingSpeak.
  </p>
</div>

    <div style="width: 100vw; max-width: 100%; margin: 0 auto 40px auto; background-color: #f0f0f0; border-radius: 16px; box-shadow: 0 2px 8px rgba(0,0,0,0.04); padding: 24px 0; display: flex; flex-direction: column; align-items: center; padding-left: 20px; padding-right: 20px;">
  <!-- Set the image width to 90vw and add margins to keep space from the edges -->
  <img src="..\images\TLS.jpg" alt="TLS encryption" style="width: 80vw; height: auto; object-fit: cover; border-radius: 12px; margin-bottom: 24px; margin-left: 5vw; margin-right: 5vw;">
  <p style="font-size: 1.5rem; color: #7a1f42; text-align: center; font-weight: 600; margin: 0;">
    The image above shows the TLS encryption used for secure communication between the mobile app and Firebase.
  </p>
</div>



<h2 style="text-align: center;"> 3D printing designs</h2>

    <div id="inital-design" class="section-p1" data-aos="fade-up" style="margin: 0 auto; max-width: 900px; padding: 20px; background-color: #f0f0f0; border-radius: 16px; box-shadow: 0 2px 8px rgba(0,0,0,0.04);">
      <h2 style="text-align: center; font-size: 2rem; color: #7a1f42; margin-bottom: 20px;">Initial Design</h2>
      <img src="..\images\3dprint\initial_design.png" alt="Initial Design" style="width: 100%; height: auto; border-radius: 12px; margin-bottom: 20px;">
      <p style="font-size: 1.2rem; color: #555; text-align: center; margin: 0;">
        The image above shows the initial design of the 3D printed components for the PharmaGate system. 
        It includes the housing for the sensors, servomotors, and other components that make up the security system.
      </p>
    </div>

    <h2 style="text-align: center;">Final Design Animation in AutoCAD</h2>


       <div style="margin: 0 auto 40px auto; background-color: #f0f0f0; align-items: center; justify-content: center; color: #888;">
        <video width="100%" height="auto" controls>
          <source src="..\video\door assy.mp4" type="video/mp4">
          Your browser does not support the video tag.
        </video>
        <p style="font-size: 0.8rem; color: #888; text-align: center;">
        3D Prototype Animation - A demonstration of the door assembly in action.
        
        </p>
      </div>

      <div style="margin: 0 auto 40px auto; background-color: #f0f0f0; align-items: center; justify-content: center; color: #888;">
        <video width="100%" height="auto" controls>
          <source src="..\video\iots_demovid.mp4" type="video/mp4">
          Your browser does not support the video tag.
        </video>
        <p style="font-size: 0.8rem; color: #888; text-align: center;">
        First demo draft
        </p>
      </div>

      <div style="margin: 0 auto 40px auto; background-color: #f0f0f0; align-items: center; justify-content: center; color: #888;">
        <video width="100%" height="auto" controls>
          <source src="..\video\" type="video/mp4">
          Your browser does not support the video tag.
        </video>
        <h2 style="color: #000; text-align: center;">
        Final demo
        </h2>
      </div>
    </section>


  <section id="threat" class="section-p1" data-aos="fade" style="padding-bottom: 0;overflow: hidden; margin: 100px;">
    <h2>Hacking Methodologies</h2>
    <p style="margin-bottom: 50px;">This section will be explaining what are the possible attacks that we will be facing.</p>

    <div class="threats-card" >
      <div class="threats-card-background" style="border-top-left-radius: 60px; border-top-right-radius: 60px;"></div>
      <div class="threats-card-header">
        <h3>1. Network Scanning</h3>  
      </div>
      <p>Discover devices on the same network as the target. It helps identify the ESP8266 (Door A) and any other devices connected to the network.</p>
      <div class="tools"><strong>Tools:</strong> Nmap (Command-line network scanner: <code>nmap -sn XXX.XXX.XXX.XXX/XXX</code>)</div>
      <div class="requirements">
        <strong>Requirements:</strong><br>
        • Access to the Same Local Network<br>
        • No Network Segmentation<br>
        • Device Active on Network
      </div>
    </div>

    <div class="threats-card">
      <div class="threats-card-background"></div>
      <div class="threats-card-header">
        <h3>2. Wi-Fi Sniffing</h3>
      </div>
      <p>Captures Wi-Fi traffic to identify the ESP8266's IP address and other details, provided the network uses weak encryption or no encryption at all.</p>
      <div class="tools"><strong>Tools:</strong> Wireshark (Network protocol analyzer)</div>
      <div class="requirements">
        <strong>Requirements:</strong><br>
        • Open or Weakly Encrypted Wi-Fi Network<br>
        • Wi-Fi Sniffing Tools<br>
        • Access to Network
      </div>
    </div>

    <div class="threats-card">
      <div class="threats-card-background"></div>
      <div class="threats-card-header">
        <h3>3. Social Engineering</h3>
      </div>
      <p>This method involves manipulating people within the organization to gain information or physical access to the system.</p>
      <div class="tools"><strong>Tools:</strong> Phishing (Fake login pages or emails)</div>
      <div class="requirements">
        <strong>Requirements:</strong><br>
        • Physical Access<br>
        • Tricking Personnel
      </div>
    </div>

    <div class="threats-card">
      <div class="threats-card-background"></div>
      <div class="threats-card-header">
        <h3>4. P2P Communication Exploitation</h3>
      </div>
      <p>This attack targets unencrypted or weakly encrypted P2P communication between devices, allowing the attacker to intercept or spoof the communication.</p>
      <div class="tools"><strong>Tools:</strong> Wireshark (Packet sniffing tool)</div>
      <div class="requirements">
        <strong>Requirements:</strong><br>
        • Unencrypted P2P Communication<br>
        • Network Access
      </div>
    </div>

    <div class="threats-card">
      <div class="threats-card-background"></div>
      <div class="threats-card-header">
        <h3>5. Physical Attack (Emergency Exit Override)</h3>
      </div>
      <p>This involves using physical access to trigger the emergency exit (e.g., bypassing RFID or pressing a button) or tampering with the hardware.</p>
      <div class="tools"><strong>Tools:</strong> RFID Reader/Writer (To clone RFID tags)</div>
      <div class="requirements">
        <strong>Requirements:</strong><br>
        • Physical Access<br>
        • Valid RFID or Button Signal
      </div>
    </div>
  </section>

    <section id="future-scope" class="section-p1" data-aos="fade">
      <h2>Future Scope</h2>
      <p>
        The current implementation of PharmaGate establishes a solid foundation for secure access control in critical environments. 
        Below are some areas we envision expanding into for future iterations.
      </p>

      <ul style="max-width: 800px; margin: auto; list-style-type: disc; font-size: 1.05rem; line-height: 1.8; color: #444;">
        <li>Expand biometric options with voice recognition or retina scan.</li>
        <li>Integrate mobile notifications and alert escalation protocols.</li>
        <li>Implement access analytics and behavior pattern recognition using AI.</li>
        <li>Enable dynamic access privileges based on time or location.</li>
        <li>Support large-scale hospital integration with centralized dashboards.</li>
      </ul>
    </section>

    <section id="weekly-updates" class="section-p1" data-aos="fade" style="max-width: 900px; margin: 40px auto; background: #f5f5f5; border-radius: 16px; box-shadow: 0 4px 24px rgba(0,0,0,0.07); padding: 40px 32px;">
  <h2 style="text-align:left; font-size:2rem; color:#0a0a23; margin-bottom:24px;">Weekly Updates</h2>
  <p style="margin-bottom:24px;">
    Weekly updates will be posted here to keep track of the progress and changes made to the PharmaGate project.
  </p>
  <table style="width:100%; border-collapse:collapse; background:#fff; border-radius:12px; overflow:hidden; box-shadow:0 2px 8px rgba(0,0,0,0.04);">
    <thead style="background:#7a1f42; color:#fff;">
      <tr>
        <th style="padding:16px; font-size:1.1rem; text-align:left;">Week</th>
        <th style="padding:16px; font-size:1.1rem; text-align:left;">Completed Tasks</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td style="padding:14px; vertical-align:top;">13</td>
        <td style="padding:14px; vertical-align:top;">Training model for facial recognition, Testing sample code of all sensors and outputs, Creating mobile application and random code generation, Research for context, documentation and existing applications
</td>
      </tr>
      <tr style="background:#f5f5f5;">
        <td style="padding:14px; vertical-align:top;">14</td>
        <td style="padding:14px; vertical-align:top;">Implementing facial recognition code, Linking mobile application with servo motor, Integrating RFID and DHT11 Sensor, Creating structure of websites
</td>
      </tr>
      <tr>
        <td style="padding:14px; vertical-align:top;">15</td>
        <td style="padding:14px; vertical-align:top;">Integrating Facial Recognition function with fingerprint sensor, Prototyping Design, Integrating IR & PIR with servo motor for first door, Inserting content (e.g. Key Features, Technology Stack...) in website
</td>
      </tr>
      <tr style="background:#f5f5f5;">
        <td style="padding:14px; vertical-align:top;">16</td>
        <td style="padding:14px; vertical-align:top;">Integrating Ultrasonic Sensor & LED completing second door, Integrating ThingSpeak for data upload, Creating Firebase for communication between ESPs, Creating emergency exit function along with button with fire interrupt function, Referencing TR64 & Security with prototype and designing UI in website
</td>
      </tr>
      <tr>
        <td style="padding:14px; vertical-align:top;">17</td>
        <td style="padding:14px; vertical-align:top;">Prototype & Website finalisation, recording & documentation of project</td>
      </tr>
    </tbody>
  </table>
</section>




    <section id="code-base" class="section-p1" data-aos="fade">
  <h2>Code Base</h2>
  <p>
    The code base for the PharmaGate project. It includes the mobile app, Arduino code for the ESP8266, ESP32 Cam, and the Firebase configuration files.
  </p>
  <h2 style="text-align: center;">Mobile Application</h2>
    <div class="code-card">
    <div class="card-header">
      <h4>Code Preview: Login Page</h4>
      <span class="expand-icon" onclick="toggleCode('codeContent1', 'codeDescription1', 'expandIcon1')">&#x21B5; click to expand</span> <!-- Expand Icon -->
    </div>
    <div class="code-content" id="codeContent1">
      <pre>
package com.example.iot_app

import android.content.Intent
import android.os.Bundle
import android.widget.Button
import android.widget.EditText
import android.widget.TextView
import android.widget.Toast

import androidx.appcompat.app.AppCompatActivity

import com.google.firebase.auth.FirebaseAuth

class MainActivity : AppCompatActivity() {
    private lateinit var auth : FirebaseAuth
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)
        auth = FirebaseAuth.getInstance()

        val emailField = findViewById&lt;EditText&gt;(R.id.email)
        val passwordField = findViewById&lt;EditText&gt;(R.id.password)
        val loginButton = findViewById&lt;Button&gt;(R.id.login_button)
        val forgotpass = findViewById&lt;TextView&gt;(R.id.forgotpass)

        loginButton.setOnClickListener {
            val email = emailField.text.toString()
            val password = passwordField.text.toString()

            auth.signInWithEmailAndPassword(email, password)
                .addOnCompleteListener { task ->
                    if (task.isSuccessful) {
                        startActivity(Intent(this, CodeInputActivity::class.java))
                        finish()
                    } else {
                        Toast.makeText(this, "Login Failed", Toast.LENGTH_SHORT).show()
                    }
                }
        }

        forgotpass.setOnClickListener {
            val intent = Intent(this, ForgotPassword::class.java)
            startActivity(intent)
        }


    }

}

      </pre>
    </div>
    <div class="card-description">
      <p>This code shows how the Login Page works with Authentication Service in FireBase</p>
    </div>
  </div>

   <div class="code-card">
    <div class="card-header">
      <h4>Code Preview: Code Input</h4>
      <span class="expand-icon" onclick="toggleCode('codeContent2', 'codeDescription2', 'expandIcon2')">&#x21B5; click to expand</span> <!-- Expand Icon -->
    </div>
    <div class="code-content" id="codeContent2">
      <pre>
package com.example.iot_app

import android.os.Bundle
import android.widget.Button
import android.widget.EditText
import android.widget.Toast
import com.google.android.material.snackbar.Snackbar
import androidx.appcompat.app.AppCompatActivity
import androidx.navigation.findNavController
import androidx.navigation.ui.AppBarConfiguration
import androidx.navigation.ui.navigateUp
import androidx.navigation.ui.setupActionBarWithNavController
import com.example.iot_app.databinding.ActivityCodeInputBinding
import com.google.firebase.auth.FirebaseAuth
import com.google.firebase.database.DatabaseReference
import com.google.firebase.database.FirebaseDatabase

class CodeInputActivity : AppCompatActivity() {
    private lateinit var dbRef: DatabaseReference
    private lateinit var auth: FirebaseAuth

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_code_input)

        auth = FirebaseAuth.getInstance()
        val userId = auth.currentUser?.uid
        dbRef = FirebaseDatabase.getInstance().reference.child("users").child(userId!!)

        val codeField = findViewById&lt;EditText&gt;(R.id.code_input)
        val submitButton = findViewById&lt;Button&gt;(R.id.submit_button)

        submitButton.setOnClickListener {
            val userCode = codeField.text.toString()

            // First, read the generated code for this user
            dbRef.child("generatedCode").get().addOnSuccessListener { snapshot ->
                val generatedCode = snapshot.getValue(String::class.java)

                // Only proceed if the entered code matches
                if (userCode == generatedCode) {
                    dbRef.child("inputCode").setValue(userCode)
                        .addOnSuccessListener {
                            Toast.makeText(this, "Code Submitted", Toast.LENGTH_SHORT).show()

                            // Log only correct code
                            val timestamp = java.text.SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss").format(java.util.Date())
                            val globalLogRef = FirebaseDatabase.getInstance().reference.child("log").child(timestamp)
                            globalLogRef.setValue(mapOf(
                                "user" to auth.currentUser?.uid,
                                "code" to userCode
                            ))
                        }
                        .addOnFailureListener {
                            Toast.makeText(this, "Failed to Submit", Toast.LENGTH_SHORT).show()
                        }
                } else {
                    // Optional: just notify user, but do not log
                    Toast.makeText(this, "Incorrect Code", Toast.LENGTH_SHORT).show()
                }

            }.addOnFailureListener {
                Toast.makeText(this, "Failed to read generated code", Toast.LENGTH_SHORT).show()
            }
        }


    }
}

      </pre>
    </div>
    <div class="card-description">
      <p>This code shows how Mobile App fetches the code generated from the ESP8266 from Firebase and compares to user input and determines if it is correct to unlock the door as well as logs entry in the Firebase database</p>
    </div>
  </div>

  <h2 style="text-align: center;">1st Door code</h2>
<div class="code-card">
    <div class="card-header">
      <h4>Code Preview: ESP8266 Door Control, LCD display, IR sensor Anti-Tailgating and PIR for showing LCD code when someone is nearby</h4>
      <span class="expand-icon" onclick="toggleCode('codeContent5', 'codeDescription5', 'expandIcon5')">&#x21B5; click to expand</span> <!-- Expand Icon -->
    </div>
    <div class="code-content" id="codeContent5">
      <pre>
       #include &lt;ESP8266WiFi.h&gt;
#include &lt;WiFiClient.h&gt;
#include &lt;FirebaseESP8266.h&gt;
#include &lt;Servo.h&gt;
#include &lt;Wire.h&gt;
#include &lt;lcd_i2c.h&gt;  // Include the LCD library for I2C display

// WiFi credentials
#define WIFI_SSID "Jarren’s iphone"
#define WIFI_PASSWORD "idonthaveapassword"

// Firebase credentials
#define FIREBASE_HOST "iots-31a7f-default-rtdb.firebaseio.com"
#define FIREBASE_AUTH "guymQlP8DYzj92PmopMzF3h93ctKjioOao3svMuv"
//#define buzzer 2

FirebaseData fbdo;
FirebaseAuth auth;
FirebaseConfig config;

// LCD configuration
lcd_i2c lcd(0x3E, 16, 2);  // Address 0x3E, 16 columns, 2 rows

// Servo configuration
Servo myservo;
int servoPin = D7;  // Pin connected to the servo

// PIR sensor and IR sensor configuration
const int PIR = D6;       // PIR sensor pin
const int IRSensor = D0;  // IR sensor pin for tailgating detection

// Variables
unsigned long PrevMotion = 0;
const unsigned long five_min = 5 * 60 * 1000; // 5 minutes in milliseconds
String generatedCode;  
String userID1 = "afszjUnCS2UNAEoD2RIHlvE6Drm2";  
String userID2 = "t1J88HWxe8cDtnzhf3KIg9DFjVr1";  
bool tailgatingDetected = false;  
String fireStatus; 
String rfidStatus;
String servoStatus;

// Tailgating detection state
bool irFirstHigh = false;
bool irLowAfterHigh = false;
unsigned long irFirstHighTime = 0;
const unsigned long tailgateWindow = 5000; // 5 seconds

// Variable to store the external trigger status as a string
String externalTriggerStatus = "false"; // "false" or the trigger type like "fire", "rfid", "servo"

// Declare the function prototype for handleDoorUnlock
void handleDoorUnlock(String userID);
int tonecount=0;

void setup() {
  Serial.begin(115200);

  // PIR sensor and IR sensor setup
  pinMode(PIR, INPUT);
  pinMode(IRSensor, INPUT);
 // pinMode(buzzer,OUTPUT); 

  // WiFi connection
  WiFi.begin(WIFI_SSID, WIFI_PASSWORD);
  Serial.print("Connecting to WiFi...");
  while (WiFi.status() != WL_CONNECTED) {
    delay(500);
    Serial.print(".");
  }
  Serial.println("\nWiFi connected");

  // Firebase setup
  config.database_url = FIREBASE_HOST;
  config.signer.tokens.legacy_token = FIREBASE_AUTH;
  Firebase.begin(&config, &auth);

  // Generate one random 4-digit code and upload to both users
  generatedCode = String(random(1000, 9999));
  Firebase.setString(fbdo, "/users/" + userID1 + "/generatedCode", generatedCode);
  Firebase.setString(fbdo, "/users/" + userID2 + "/generatedCode", generatedCode);
  Firebase.setBool(fbdo, "/users/" + userID1 + "/doorUnlocked", false);
  Firebase.setBool(fbdo, "/users/" + userID2 + "/doorUnlocked", false);

  Serial.print("Generated Code: ");
  Serial.println(generatedCode);

  // Initialize LCD
  lcd.begin();
  lcd.setCursor(0, 0);
  lcd.print("Generated Code:");
  lcd.setCursor(0, 1);
  lcd.print(generatedCode.c_str());

  // Servo setup
  myservo.attach(servoPin);
  myservo.write(90); // Neutral position (locked)
}

void loop() {

  int motionState = digitalRead(PIR);
  int irState = digitalRead(IRSensor);

  // --- PIR Motion detection ---
  if (motionState == HIGH) {
    Serial.println("Motion detected!");
    PrevMotion = millis();
    lcd.clear();
    lcd.setCursor(0, 0);
    lcd.print("Generated Code:");
    lcd.setCursor(0, 1);
    lcd.print(generatedCode.c_str());
    handleDoorUnlock(userID1);
    handleDoorUnlock(userID2);
  } else {
    if (millis() - PrevMotion > five_min) {
      Serial
      lcd.clear();
    }
  }

 // --- IR Tailgating detection logic ---
if (irState == LOW) {
    unsigned long now = millis();

    if (!irFirstHigh) {
        // First HIGH detected
        irFirstHigh = true;
        irFirstHighTime = now;
        Serial.println("IR: First HIGH detected");
    } else {
        // Second LOW detected within 5 seconds (transition from HIGH -> LOW -> HIGH)
        if (irFirstHigh && (now - irFirstHighTime <= 5000)) {
            Serial.println("Tailgating detected (HIGH -> LOW -> HIGH)!");

    if (Firebase.getString(fbdo,"/buzzer")){
    String buzzer = fbdo.stringData();
    if (buzzer=="false"){
      Firebase.setString(fbdo,"/buzzer",true);
      Serial.print("buzzer"); 
    }
   }


            // Lock door immediately
            myservo.write(90);  // Lock the door
            Firebase.setBool(fbdo, "/users/" + userID1 + "/doorUnlocked", false);
            Firebase.setBool(fbdo, "/users/" + userID2 + "/doorUnlocked", false);

            lcd.clear();
            lcd.setCursor(0, 0);
          //  lcd.print("Tailgating Detected!");

            // Tone for notification
          
               
              
        

            delay(2000);
        }
        // Reset first HIGH time for next detection
        irFirstHighTime = now;
    }
}

// Reset if more than 5 seconds passed without detecting LOW state after first HIGH
if (irFirstHigh && millis() - irFirstHighTime > 5000) {
    irFirstHigh = false;  // Reset to await the next HIGH -> LOW -> HIGH pattern
}


  // --- Check for Servo, RFID, or Fire triggers ---
  checkExternalTriggers();

  delay(100);
}

// Function to check for external triggers (servo, rfid, fire)
// Function to check for external triggers (servo, rfid, fire)
void checkExternalTriggers() {
   if (Firebase.getString(fbdo,"/fire")){
    String fire = fbdo.stringData();
    if (fire=="true"){
      myservo.write(180);
      delay(5000);
      myservo.write(90);
      Firebase.setString(fbdo,"/fire",false);
      Serial.print("fire"); 
    }
   }
   if (Firebase.getString(fbdo,"/rfid")){
    String rfid = fbdo.stringData();
    if (rfid=="true"){
      myservo.write(180);
      delay(5000);
      myservo.write(90);
      Firebase.setString(fbdo,"/rfid",false);
      Serial.print("rfid"); 
    }
   }
    if (Firebase.getString(fbdo,"/servo")){
    String servo = fbdo.stringData();
    if (servo=="true"){
      myservo.write(180);
      delay(5000);
      myservo.write(90);
      Firebase.setString(fbdo,"/servo",false);
      Serial.print("servo"); 
    }
   }
   
}

// Function to handle door unlock
void handleDoorUnlock(String userID) {
  bool doorAlreadyUnlocked = false;

  // Check if the door is already unlocked for the user
  if (Firebase.getBool(fbdo, "/users/" + userID + "/doorUnlocked")) {
    doorAlreadyUnlocked = fbdo.boolData();
  }

  if (doorAlreadyUnlocked) {
    return;  // Exit if door is already unlocked
  }

  // Check if the input code matches the generated code
  if (Firebase.getString(fbdo, "/users/" + userID + "/inputCode")) {
    String inputCode = fbdo.stringData();
    Serial.print("Received inputCode for " + userID + ": ");
    Serial.println(inputCode);

    if (inputCode == generatedCode) {
      Serial.println("Code matched for " + userID + ". Unlocking door.");

      // Unlock the door using the servo
      myservo.write(180);  // Servo to unlock
      delay(5000);         // Keep the door unlocked for 5 seconds
      myservo.write(90);   // Lock the door again

       // Update /face to true (this is the correct path now)
      if (Firebase.getString(fbdo,"/face")){
    String face = fbdo.stringData();
    if (face=="false"){
      Firebase.setString(fbdo,"/face",true);
      Serial.print("done");
    }
   }

    // Generate one random 4-digit code and upload to both users
  generatedCode = String(random(1000, 9999));
  Firebase.setString(fbdo, "/users/" + userID1 + "/generatedCode", generatedCode);
  Firebase.setString(fbdo, "/users/" + userID2 + "/generatedCode", generatedCode);
  Firebase.setBool(fbdo, "/users/" + userID1 + "/doorUnlocked", false);
  Firebase.setBool(fbdo, "/users/" + userID2 + "/doorUnlocked", false);

  Serial.print("Generated Code: ");
  Serial.println(generatedCode);

  // Initialize LCD
 // lcd.begin();
  lcd.setCursor(0, 0);
  lcd.print("Generated Code:");
  lcd.clear();
  lcd.setCursor(0, 1);
  lcd.print(generatedCode.c_str());


     

      // Update Firebase to reflect door status
      Firebase.setBool(fbdo, "/users/" + userID + "/doorUnlocked", true);

      // Reset the input code in Firebase
      Firebase.setString(fbdo, "/users/" + userID + "/inputCode", "0");

      // Set the door back to locked status after the code is processed
      Firebase.setBool(fbdo, "/users/" + userID + "/doorUnlocked", false);

      // Display the result on the LCD
      lcd.clear();
      lcd.setCursor(0, 0);
      lcd.print("Door Unlocked!");
      delay(2000);

      lcd.clear();
      lcd.setCursor(0, 0);
      lcd.print("Generated Code:");
      lcd.setCursor(0, 1);
      lcd.print(generatedCode.c_str());
    }
  }
}

      </pre>
    </div>
    <div class="card-description">
      <p>his code shows how the esp8266 fetches data from the firebase and depending on different states, will turn the servo motor 
        to unlock or lock the door as well as use IR sensor to detect tailgating and PIR sensor to detect motion for displaying the LCD screen
        and also use firebase to check if there is a fire alert to unlock the door and incorporate buzzer for tailgating detection and communicates with other ESPs via firebase to unlock the door
      </p></p>
    </div>
  </div>



  <h2 style="text-align: center;">2nd Door code</h2>

  <!-- First Code Preview Card -->
  <div class="code-card">
    <div class="card-header">
      <h4>Code Preview: ESP8266 LED indicator code</h4>
      <span class="expand-icon" onclick="toggleCode('codeContent3', 'codeDescription3', 'expandIcon3')">&#x21B5; click to expand</span> <!-- Expand Icon -->
    </div>
    <div class="code-content" id="codeContent3">
      <pre>
        #include &lt;ESP8266WiFi.h&gt;
        #include &lt;FirebaseESP8266.h&gt;

        int RED = 15;
        int GREEN = 13;
        int BLUE = 12;

        WiFiClient client;
        #define WIFI_SSID "Doodles"
        #define WIFI_PASSWORD "115811ah"

        // Firebase credentials
        #define FIREBASE_HOST "iots-31a7f-default-rtdb.firebaseio.com"
        #define FIREBASE_AUTH "guymQlP8DYzj92PmopMzF3h93ctKjioOao3svMuv"

        FirebaseData fbdo;
        FirebaseAuth auth;
        FirebaseConfig config;

        void FirebaseConnection(){
            Serial.begin(115200);
            WiFi.begin(WIFI_SSID, WIFI_PASSWORD);
            Serial.print("Connecting to WiFi...");
            while (WiFi.status() != WL_CONNECTED) {
              delay(500);
              Serial.print(".");
            }
            Serial.println("\nWiFi connected");
            delay(100);

            config.database_url = FIREBASE_HOST;
            config.signer.tokens.legacy_token = FIREBASE_AUTH;
            Firebase.begin(&config, &auth);
        }

        void setup() {
          Serial.begin(115200);
          FirebaseConnection();
          pinMode(RED, OUTPUT);
          pinMode(GREEN, OUTPUT);
          pinMode(BLUE, OUTPUT);
        }

        void loop() {
          if (Firebase.getString(fbdo, "/led")) {
            String ledValue = fbdo.stringData();
            Serial.println("LED Value from Firebase: " + ledValue);
            if (ledValue == "true") {
              digitalWrite(RED, HIGH);
              digitalWrite(GREEN, LOW);
              digitalWrite(BLUE, LOW);
              Serial.println("LED is GREEN");
            } else if (ledValue == "false") {
              digitalWrite(RED, LOW);
              digitalWrite(GREEN, HIGH);
              digitalWrite(BLUE, LOW);
              Serial.println("LED is RED");
            } else {
              digitalWrite(RED, LOW);
              digitalWrite(GREEN, LOW);
              digitalWrite(BLUE, LOW);
              Serial.println("LED is OFF");
            }
          } else {
            Serial.println("Error retrieving 'led' value from Firebase: " + fbdo.errorReason());
          }
          delay(1000);
        }
      </pre>
    </div>
    <div class="card-description">
      <p>This code shows how the esp8266 fetches data from the firebase and depending on different states, will show different colours on the RGB LED</p>
    </div>
  </div>

  <!-- Second Code Preview Card -->
  <div class="code-card">
    <div class="card-header">
      <h4>Code Preview: ESP32 CAM with Fingerprint,ultrasonic senosr and ThingsSpeak record</h4>
      <span class="expand-icon" onclick="toggleCode('codeContent4', 'codeDescription4', 'expandIcon4')">&#x21B5; click to expand</span> <!-- Expand Icon -->
    </div>
    <div class="code-content" id="codeContent4">
      <pre>
       // Orange to IO14
  // White to IO15
  //Trig to IO12
  //Echo to IO13
  //R to 13
  //G to 12
  //B to 14

  #include &lt;SPI.h&gt;
  #include &lt;Wire.h&gt;
  #include &lt;WiFi.h&gt;
  #include &lt;ThingSpeak.h&gt;
  #include &lt;esp_now.h&gt;
  #include &lt;FirebaseESP32.h&gt;
  #include &lt;Adafruit_Fingerprint.h&gt;  //https://github.com/adafruit/Adafruit-Fingerprint-Sensor-Library
  #include &lt;esp_camera.h&gt;
  #include &lt;String&gt;

  // WiFi credentials
  //#define WIFI_SSID "SINGTEL-1520"
  //#define WIFI_PASSWORD "zvLsesXLzs9P"
  WiFiClient client;
  #define WIFI_SSID "Doodles"
  #define WIFI_PASSWORD "115811ah"

  // ********** ThingSpeak Credentials **********
  unsigned long channelID = 3036540; // Your ThingSpeak channel ID
  const char* apiKey = "QJF66R42QYX54DGO"; // Your WriteAPIKey for the channel

  int message = 0;
  
  //************************************************************************
  // Fingerprint scanner Pins
  #define Finger_Rx 14 // GPIO 16 (RX pin for fingerprint sensor)
  #define Finger_Tx 15 // GPIO 17 (TX pin for fingerprint sensor)
  //************************************************************************
  // Updated Pins for ultrasonic sensor
  const int trigPin = 12;  
  const int echoPin = 13;  

  #define SOUND_SPEED 0.034
  #define CM_TO_INCH 0.393701

  long duration;
  float distanceCm;

  String nameFinger = "";  // Use String for easier manipulation
  String nameFace = "";  // Use String for easier manipulation

  HardwareSerial mySerial(1); // Use hardware serial (Serial1) for ESP32
  Adafruit_Fingerprint finger = Adafruit_Fingerprint(&mySerial);

  int FingerID = 0;     // The Fingerprint ID from the scanner 
  uint8_t id;

  // Firebase credentials
  #define FIREBASE_HOST "iots-31a7f-default-rtdb.firebaseio.com"
  //#define FIREBASE_HOST "iots-bed43-default-rtdb.asia-southeast1.firebasedatabase.app"
  #define FIREBASE_AUTH "guymQlP8DYzj92PmopMzF3h93ctKjioOao3svMuv"
  //#define FIREBASE_AUTH "d9mLYmLy4iJEwrDNO8eDiDgZWtvRtTGq1JNu1V1j"

  FirebaseData fbdo;
  FirebaseAuth auth;
  FirebaseConfig config;

  // Flag to indicate that fingerprint detection has already been done
  bool fingerprintDetected = false; 
  bool lockFingerprintDetection = false;  // Lock fingerprint detection after a valid scan
  bool cameraInitialized = false;

  bool checkFirebaseSignal() {
  String signalValue = "";
  String fireValue = "";
  
  // Retrieve the signal value from Firebase
    if (Firebase.getString(fbdo, "/face")) {
      signalValue = fbdo.stringData();  // Get the data returned from Firebase
      Serial.println("Signal from Firebase: " + signalValue);

      if (signalValue == "true") {
        // If the signal is "start", return true to start the process
        return true;
      }
    } else {
      Serial.println("Error getting signal from Firebase: " + fbdo.errorReason());
    }

    return false; // If signal is not "start", return false
  }

  void FirebaseConnection(){
    Serial.begin(115200);
    WiFi.begin(WIFI_SSID, WIFI_PASSWORD);
    Serial.print("Connecting to WiFi...");
    while (WiFi.status() != WL_CONNECTED) {
      delay(500);
      Serial.print(".");
    }
    Serial.println("\nWiFi connected");
    delay(100);
    
    config.database_url = FIREBASE_HOST;
    config.signer.tokens.legacy_token = FIREBASE_AUTH;
    Firebase.begin(&config, &auth);

    
  }
 
  void setup() {
    Serial.begin(115200);

    FirebaseConnection();
 
    // set the data rate for the sensor serial port
    mySerial.begin(57600, SERIAL_8N1, Finger_Rx, Finger_Tx);  // Use hardware serial (Serial1)
    Serial.println("\n\nAdafruit finger detect test");

    if (finger.verifyPassword()) {
      Serial.println("Found fingerprint sensor!");
    } else {
      Serial.println("Did not find fingerprint sensor :(");
      while (1) { delay(1); }
    }

    //---------------------------------------------
    finger.getTemplateCount();
    Serial.print("Sensor contains "); 
    Serial.print(finger.templateCount); 
    Serial.println(" templates");
    Serial.println("Waiting for valid finger...");

    // Enroll multiple fingerprints by calling the function with different IDs
    enrollFingerprint(1); // Enroll first fingerprint with ID 1

    pinMode(trigPin, OUTPUT); 
    pinMode(echoPin, INPUT); 
  }

  void loop() {
  // First, check the fire value from Firebase
  if (Firebase.getString(fbdo, "/fire")) {
    String fireValue = fbdo.stringData();
    Serial.println("Fire Value: " + fireValue);

    // If fire is detected, wait for 2 seconds before continuing
    if (fireValue == "true") {
      Serial.println("Fire detected! Waiting for 2 seconds...");
      delay(2000);  // Wait for 2 seconds before checking for the signal
      return;
    } else {
      Serial.println("No fire detected.");
    }
  } else {
    Serial.println("Error retrieving 'fire' value from Firebase.");
  }

  // Now, check for the signal to proceed with fingerprint scanning and other actions
  if (checkFirebaseSignal()) {
    // Proceed with the fingerprint scanning and other actions if the signal is "start"
    Serial.println("Signal received! Starting process...");
    
    // Check if fingerprint has been detected and locked
    if (!fingerprintDetected && !lockFingerprintDetection) {
      // Get the Fingerprint ID
      FingerID = getFingerprintID();  // Get the Fingerprint ID from the Scanner
      nameFinger = String(FingerID);  // Convert FingerID to String
      if (FingerID > 0) {
        Serial.println("Correct fingerprint detected.");

        // Set the fingerprintDetected flag to true to prevent further fingerprint scanning
        fingerprintDetected = true;
        lockFingerprintDetection = true;  // Lock fingerprint detection

        // Initialize camera after detecting a valid fingerprint (only once)
        if (!cameraInitialized) {
          Serial.println("Initializing camera...");
          setupCamera();  // Initialize camera after detecting valid fingerprint

          // Wait until the camera is fully initialized
          while (!cameraInitialized) {
            delay(100);  // Small delay to allow time for camera to initialize
          }

          Serial.println("Camera initialized successfully");
        }

        // Start facial recognition after fingerprint detection
        startFacialRecognition();  // Start facial recognition process
      }
    }
  } else {
    Serial.println("Waiting for the signal...");
  }

  delay(1000);  // Poll Firebase every second or adjust the timing as needed
  }


  // Modify getFingerprintID to return early if fingerprintDetected is true
  int getFingerprintID() {
    if (fingerprintDetected) {
      // If fingerprint has already been detected, skip the scanning process
      return FingerID;
    }

    uint8_t p = finger.getImage();
    switch (p) {
      case FINGERPRINT_OK:
        Serial.println("Image taken");
        break;
      case FINGERPRINT_NOFINGER:
        Serial.println("No finger detected");
        return 0;
      case FINGERPRINT_PACKETRECIEVEERR:
        Serial.println("Communication error");
        return -2;
      case FINGERPRINT_IMAGEFAIL:
        Serial.println("Imaging error");
        return -2;
      default:
        Serial.println("Unknown error");
        return -2;
    }

    // OK success!
    p = finger.image2Tz();
    switch (p) {
      case FINGERPRINT_OK:
        Serial.println("Image converted");
        break;
      case FINGERPRINT_IMAGEMESS:
        Serial.println("Image too messy");
        return -1;
      case FINGERPRINT_PACKETRECIEVEERR:
        Serial.println("Communication error");
        return -2;
      case FINGERPRINT_FEATUREFAIL:
        Serial.println("Could not find fingerprint features");
        return -2;
      case FINGERPRINT_INVALIDIMAGE:
        Serial.println("Could not find fingerprint features");
        return -2;
      default:
        Serial.println("Unknown error");
        return -2;
    }

    // OK converted!
    p = finger.fingerFastSearch();
    if (p == FINGERPRINT_OK) {
      Serial.println("Found a print match!");
      Serial.print("Found ID #"); 
      Serial.print(finger.fingerID); // Corrected here, no parentheses
      Serial.print(" with confidence of "); 
      Serial.println(finger.confidence); 
      // Set the FingerID for later use
      FingerID = finger.fingerID;
    } else if (p == FINGERPRINT_PACKETRECIEVEERR) {
      Serial.println("Communication error");
      return -2;
    } else if (p == FINGERPRINT_NOTFOUND) {
      Serial.println("Did not find a match");
      return -1;
    } else {
      Serial.println("Unknown error");
      return -2;
    }

    return finger.fingerID;
  }

  // Add a function to reset fingerprint detection flag after facial recognition is done
  void resetFingerprintDetection() {
    fingerprintDetected = false;
    lockFingerprintDetection = false;  // Unlock fingerprint detection again
  }

  //* Enroll Fingerprint *****************
  void enrollFingerprint(uint8_t id) {
    int p = -1;
    Serial.print("Enrolling ID #"); 
    Serial.println(id);
    
    // Capture the first image
    while (p != FINGERPRINT_OK) {
      Serial.println("Place finger on sensor...");
      p = finger.getImage();
      if (p == FINGERPRINT_NOFINGER) {
        delay(100);
      } else if (p != FINGERPRINT_OK) {
        Serial.println("Error capturing first image.");
      }
    }

    p = finger.image2Tz(1);
    if (p != FINGERPRINT_OK) {
      Serial.println("Image conversion failed.");
      return;
    }

    Serial.println("Remove finger...");
    delay(5000);  // Add delay (5 seconds) to ensure the user removes their finger
    
    // Wait until the first finger is removed
    while (p != FINGERPRINT_NOFINGER) {
      p = finger.getImage();
      delay(100);
    }

    Serial.println("Place same finger again...");
    p = -1;
    // Capture the second image
    while (p != FINGERPRINT_OK) {
      p = finger.getImage();
      if (p == FINGERPRINT_NOFINGER) {
        delay(100);
      } else if (p != FINGERPRINT_OK) {
        Serial.println("Error capturing second image.");
      }
    }

    p = finger.image2Tz(2);
    if (p != FINGERPRINT_OK) {
      Serial.println("Second image conversion failed.");
      return;
    }

    p = finger.createModel();
    if (p != FINGERPRINT_OK) {
      Serial.println("Failed to create fingerprint model.");
      return;
    }

    p = finger.storeModel(id);
    if (p == FINGERPRINT_OK) {
      Serial.println("Fingerprint successfully enrolled!");
    } else {
      Serial.println("Failed to store fingerprint.");
    }
  }

  //Facial Recognition
  #include <Doodles-project-1_inferencing.h>
  #include "edge-impulse-sdk/dsp/image/image.hpp"
  #include "esp_camera.h"

  // Camera configuration (AI Thinker)
  #define CAMERA_MODEL_AI_THINKER // Has PSRAM
  
  #if defined(CAMERA_MODEL_ESP_EYE)
  #define PWDN_GPIO_NUM    -1
  #define RESET_GPIO_NUM   -1
  #define XCLK_GPIO_NUM    4
  #define SIOD_GPIO_NUM    18
  #define SIOC_GPIO_NUM    23
  #define Y9_GPIO_NUM      36
  #define Y8_GPIO_NUM      37
  #define Y7_GPIO_NUM      38
  #define Y6_GPIO_NUM      39
  #define Y5_GPIO_NUM      35
  #define Y4_GPIO_NUM      14
  #define Y3_GPIO_NUM      13
  #define Y2_GPIO_NUM      34
  #define VSYNC_GPIO_NUM   5
  #define HREF_GPIO_NUM    27
  #define PCLK_GPIO_NUM    25

  #elif defined(CAMERA_MODEL_AI_THINKER)
  #define PWDN_GPIO_NUM     32
  #define RESET_GPIO_NUM    -1
  #define XCLK_GPIO_NUM      0
  #define SIOD_GPIO_NUM     26
  #define SIOC_GPIO_NUM     27
  #define Y9_GPIO_NUM       35
  #define Y8_GPIO_NUM       34
  #define Y7_GPIO_NUM       39
  #define Y6_GPIO_NUM       36
  #define Y5_GPIO_NUM       21
  #define Y4_GPIO_NUM       19
  #define Y3_GPIO_NUM       18
  #define Y2_GPIO_NUM        5
  #define VSYNC_GPIO_NUM    25
  #define HREF_GPIO_NUM     23
  #define PCLK_GPIO_NUM     22

  #else
  #error "Camera model not selected"
  #endif

  #define EI_CAMERA_RAW_FRAME_BUFFER_COLS           320
  #define EI_CAMERA_RAW_FRAME_BUFFER_ROWS           240
  #define EI_CAMERA_FRAME_BYTE_SIZE                 3

  static camera_config_t camera_config = {
      .pin_pwdn = PWDN_GPIO_NUM,
      .pin_reset = RESET_GPIO_NUM,
      .pin_xclk = XCLK_GPIO_NUM,
      .pin_sscb_sda = SIOD_GPIO_NUM,
      .pin_sscb_scl = SIOC_GPIO_NUM,
      .pin_d7 = Y9_GPIO_NUM,
      .pin_d6 = Y8_GPIO_NUM,
      .pin_d5 = Y7_GPIO_NUM,
      .pin_d4 = Y6_GPIO_NUM,
      .pin_d3 = Y5_GPIO_NUM,
      .pin_d2 = Y4_GPIO_NUM,
      .pin_d1 = Y3_GPIO_NUM,
      .pin_d0 = Y2_GPIO_NUM,
      .pin_vsync = VSYNC_GPIO_NUM,
      .pin_href = HREF_GPIO_NUM,
      .pin_pclk = PCLK_GPIO_NUM,
      .xclk_freq_hz = 20000000,
      .ledc_timer = LEDC_TIMER_0,
      .ledc_channel = LEDC_CHANNEL_0,
      .pixel_format = PIXFORMAT_JPEG,
      .frame_size = FRAMESIZE_QVGA,
      .jpeg_quality = 12,
      .fb_count = 1,
      .fb_location = CAMERA_FB_IN_PSRAM,
      .grab_mode = CAMERA_GRAB_WHEN_EMPTY,
  };

  static bool debug_nn = false;
  static bool is_initialised = false;
  uint8_t *snapshot_buf;

  // Function to initialize the camera for facial recognition
  void setupCamera() {
      Serial.println("Edge Impulse Inferencing Demo");

      if (ei_camera_init() == false) {
          ei_printf("Failed to initialize Camera!\r\n");
          cameraInitialized = false;  // Make sure it's marked as false if initialization fails
      } else {
          ei_printf("Camera initialized\r\n");
          cameraInitialized = true;  // Set to true after a successful initialization
      }

      ei_printf("\nStarting continuous inference in 2 seconds...\n");
      ei_sleep(2000);  // Wait for camera to be ready
  }
  // Facial Recognition
  void startFacialRecognition() {
    bool objectDetected = false;

    Serial.println("Starting Facial Recognition...");

    while (!objectDetected) {
      if (Firebase.getString(fbdo, "/fire")) {
        String fireValue = fbdo.stringData();
        Serial.println("Fire Value: " + fireValue);
          // If fire is detected, wait for 2 seconds before proceeding
        if (fireValue == "true") {
            Serial.println("Fire detected! Waiting for 2 seconds...");
            delay(2000);  // Wait for 2 seconds
            Serial.println("Continuing fingerprint scan after waiting for fire...");
            Firebase.setString(fbdo,"/face","false");
            resetFingerprintDetection();
            return;
        } else {
            Serial.println("No fire detected.");
        }
      } else {
          Serial.println("Error retrieving 'fire' value from Firebase.");
      }
    
        // Ultrasonic distance measurement
        digitalWrite(trigPin, LOW);
        delayMicroseconds(2);
        digitalWrite(trigPin, HIGH);
        delayMicroseconds(10);
        digitalWrite(trigPin, LOW);
        
        duration = pulseIn(echoPin, HIGH);
        
        distanceCm = duration * SOUND_SPEED / 2;

        Serial.print("Distance (cm): ");
        Serial.println(distanceCm);

        // Check if the person is too far or too close
        if (distanceCm < 30) {
            Serial.println("Too Close!\n");
            Firebase.setString(fbdo, "/led", "false"); 
        } else if (distanceCm > 60) {
            Serial.println("Too Far!\n");
            Firebase.setString(fbdo, "/led", "false");   
        } else {
            Serial.println("Remain Still & Look at the Camera.\n");
            Firebase.setString(fbdo, "/led", "true");  
        }
        
        // Simulate sleep to allow time for recognition (replace with actual sleep function if needed)
        delay(5);  // Use a delay instead of ei_sleep() if you are not using Edge Impulse

        // Capture the image for facial recognition
        snapshot_buf = (uint8_t*)malloc(EI_CAMERA_RAW_FRAME_BUFFER_COLS * EI_CAMERA_RAW_FRAME_BUFFER_ROWS * EI_CAMERA_FRAME_BYTE_SIZE);

        if(snapshot_buf == nullptr) {
            Serial.println("ERR: Failed to allocate snapshot buffer!");
            return;
        }

        ei::signal_t signal;
        signal.total_length = EI_CLASSIFIER_INPUT_WIDTH * EI_CLASSIFIER_INPUT_HEIGHT;
        signal.get_data = &ei_camera_get_data;

        if (ei_camera_capture((size_t)EI_CLASSIFIER_INPUT_WIDTH, (size_t)EI_CLASSIFIER_INPUT_HEIGHT, snapshot_buf) == false) {
            Serial.println("Failed to capture image");
            free(snapshot_buf);
            return;
        }

        ei_impulse_result_t result = { 0 };
        EI_IMPULSE_ERROR err = run_classifier(&signal, &result, debug_nn);
        if (err != EI_IMPULSE_OK) {
            Serial.printf("ERR: Failed to run classifier (%d)\n", err);
            free(snapshot_buf);
            return;
        }

        Serial.printf("Predictions (DSP: %d ms., Classification: %d ms., Anomaly: %d ms.): \n", result.timing.dsp, result.timing.classification, result.timing.anomaly);

        #if EI_CLASSIFIER_OBJECT_DETECTION == 1
            Serial.println("Object detection bounding boxes:");
            bool bb_found = false;  // Set to true if any bounding box is detected
            for (uint32_t i = 0; i < result.bounding_boxes_count; i++) {
                ei_impulse_result_bounding_box_t bb = result.bounding_boxes[i];
                if (bb.value == 0) {
                    continue;
                }
                Serial.printf("  %s (%f) [ x: %u, y: %u, width: %u, height: %u ]\r\n", bb.label, bb.value, bb.x, bb.y, bb.width, bb.height);

                // Update bb_found if any bounding box with value > 0 is found
                bb_found = true;

                // Check for specific faces and set objectDetected flag
                if (strcmp(bb.label, "Kaden") == 0) {
                    Serial.printf("Detected: Kaden - %d%%\n", int(bb.value * 100));
                    objectDetected = true;
                    nameFace = 1;
                    break;  // Exit once Kaden is detected
                } else if (strcmp(bb.label, "Ervin") == 0) {
                    Serial.printf("Detected: Ervin - %d%%\n", int(bb.value * 100));
                    objectDetected = true;
                    nameFace = 2;
                    break;  // Exit once Ervin is detected
                } else if (strcmp(bb.label, "robert downey jr") == 0) {
                    Serial.printf("Detected: RDj - %d%%\n", int(bb.value * 100));
                    objectDetected = true;
                    break;  // Exit once RDj is detected
                }
            }

            if (!bb_found) {
                Serial.println("No objects found");
                Serial.println("Detected: No object detected\n");
            }
        #else
            Serial.println("Predictions:");
            for (uint16_t i = 0; i < EI_CLASSIFIER_LABEL_COUNT; i++) {
                Serial.printf("  %s: %.5f\r\n", ei_classifier_inferencing_categories[i], result.classification[i].value);
            }
        #endif

        #if EI_CLASSIFIER_HAS_ANOMALY
            Serial.printf("Anomaly prediction: %.3f\r\n", result.anomaly);
        #endif

        #if EI_CLASSIFIER_HAS_VISUAL_ANOMALY
            Serial.println("Visual anomalies:");
            for (uint32_t i = 0; i < result.visual_ad_count; i++) {
                ei_impulse_result_bounding_box_t bb = result.visual_ad_grid_cells[i];
                if (bb.value == 0) {
                    continue;
                }
                Serial.printf("  %s (%f) [ x: %u, y: %u, width: %u, height: %u ]\r\n", bb.label, bb.value, bb.x, bb.y, bb.width, bb.height);
            }
        #endif

        // Clean up the buffer
        free(snapshot_buf);
    }

    Serial.println("Face Recognized! Facial recognition complete.");

    Firebase.setString(fbdo,"/servo","true");
    Firebase.setString(fbdo,"/face","false");
    delay(100);

    //Initialize ThingSpeak
    ThingSpeak.begin(client); 
    ThingSpeak.setField(1, String(nameFinger));
    ThingSpeak.setField(2, String(nameFace));

    int x = ThingSpeak.writeFields(channelID, apiKey);
    if (x == 200) {
    Serial.println("Channel update successful. ");
    }
    else {
    Serial.println("Problem updating channel. HTTP error code " + String(x));
    }
    delay(2000);

    resetFingerprintDetection();
  }
  

  // Function to initialize the camera for Edge Impulse
  bool ei_camera_init(void) {
      if (is_initialised) return true;

      esp_err_t err = esp_camera_init(&camera_config);
      if (err != ESP_OK) {
        Serial.printf("Camera init failed with error 0x%x\n", err);
        return false;
      }

      sensor_t * s = esp_camera_sensor_get();
      if (s->id.PID == OV3660_PID) {
        s->set_vflip(s, 1);
        s->set_brightness(s, 1);
        s->set_saturation(s, 0);
      }

      is_initialised = true;
      return true;
  }

  // Function to deinitialize the camera
  void ei_camera_deinit(void) {
      esp_err_t err = esp_camera_deinit();
      if (err != ESP_OK) {
          ei_printf("Camera deinit failed\n");
          return;
      }
      is_initialised = false;
      return;
  }

  // Function to capture an image for Edge Impulse
  bool ei_camera_capture(uint32_t img_width, uint32_t img_height, uint8_t *out_buf) {
      bool do_resize = false;

      if (!is_initialised) {
          ei_printf("ERR: Camera is not initialized\r\n");
          return false;
      }

      camera_fb_t *fb = esp_camera_fb_get();
      if (!fb) {
          ei_printf("Camera capture failed\n");
          return false;
      }

      bool converted = fmt2rgb888(fb->buf, fb->len, PIXFORMAT_JPEG, snapshot_buf);
      esp_camera_fb_return(fb);

      if(!converted){
          ei_printf("Conversion failed\n");
          return false;
      }

      if ((img_width != EI_CAMERA_RAW_FRAME_BUFFER_COLS)
          || (img_height != EI_CAMERA_RAW_FRAME_BUFFER_ROWS)) {
          do_resize = true;
      }

      if (do_resize) {
          ei::image::processing::crop_and_interpolate_rgb888(
              out_buf,
              EI_CAMERA_RAW_FRAME_BUFFER_COLS,
              EI_CAMERA_RAW_FRAME_BUFFER_ROWS,
              out_buf,
              img_width,
              img_height);
      }

      return true;
  }

  // Function to get image data for Edge Impulse
  static int ei_camera_get_data(size_t offset, size_t length, float *out_ptr) {
      size_t pixel_ix = offset * 3;
      size_t pixels_left = length;
      size_t out_ptr_ix = 0;

      while (pixels_left != 0) {
          out_ptr[out_ptr_ix] = (snapshot_buf[pixel_ix + 2] << 16) + (snapshot_buf[pixel_ix + 1] << 8) + snapshot_buf[pixel_ix];
          out_ptr_ix++;
          pixel_ix += 3;
          pixels_left--;
      }
      return 0;
  }
      </pre>
    </div>
    <div class="card-description">
      <p>This code shows how we are able to connect ESP32 CAM to edge impulse for face recognition as well as incorporate ultrasonic sensor to determine optimal distance for face detection and send it over to firebase for RGB led. As well as registering and checking of fingerprint and recording data to ThingSpeak for visualisation</p>
    </div>
  </div>
</section>


<section id="code_base_images" class="section-p1" data-aos="fade">
  <h2 style="text-align: center;">Code Base Images</h2>
  <p style="text-align: center;">
    Below are some images that work together with our code base to make necessary features
  </p>
 <img src="../images/edge_impulse.jpg" alt="Code Image 1" style="max-width: 70%; height: auto; border-radius: 20px; margin-bottom: 30px; display: block; margin-left: auto; margin-right: auto;">

  <p style="text-align: center;">Edge Impulse Studio for model training and deployment</p>
  <!-- <img src="../images/code2.png" alt="Code Image 2" style="max-width: 70%; height: auto; border-radius: 20px; margin-bottom: 30px;">
  <img src="../images/code3.png" alt="Code Image 3" style="max-width: 70%; height: auto; border-radius: 20px; margin-bottom: 50px;"> -->

<!-- Styles -->
<style>
  .code-card {
    background-color: #f1f1f1;
    padding: 20px;
    margin: 20px 0;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }

  .card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 18px;
    margin-bottom: 10px;
  }

  .expand-icon {
    cursor: pointer;
    font-size: 20px;
    color: #007bff;
  }

  .code-content {
    display: none; /* Initially hidden */
    margin-bottom: 10px;
  }

  .code-content pre {
    background-color: #2e2e2e;
    color: #f8f8f2;
    padding: 15px;
    border-radius: 5px;
    font-size: 14px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  .card-description p {
    font-size: 16px;
    color: #333;
  }
</style>

<!-- JavaScript -->
<script>
  // Toggle function for expanding and collapsing the code
function toggleCode(codeContentId, expandIconId) {
    const codeContent = document.getElementById(codeContentId);
    const icon = document.getElementById(expandIconId);

    // Toggle only the code content visibility
    if (codeContent.style.display === "none" || codeContent.style.display === "") {
        codeContent.style.display = "block";
        icon.innerHTML = "&#x2193;"; // Down Arrow
    } else {
        codeContent.style.display = "none";
        icon.innerHTML = "&#x21B5;"; // Up Arrow
    }
}

</script>


    <section id="ganttchart" class="section-p1" data-aos="fade">
      <h2>Gantt Chart</h2>
      <p>
        The Gantt chart below outlines the project timeline, including key milestones and tasks.
      </p>
     <img src="../images/gantt-chart.png" alt="Gantt Chart" style="max-width: 120%; height: auto; border-radius: 20px; margin-bottom: 30px; display: block; margin-left: auto; margin-right: auto;">

      </section> 

      <section id="contribution" class="section-p1" data-aos="fade">
        <h2>Contribution</h2>
        <p>
          Breakdown of contributions by team members:
        </p>
        <ul style="list-style-type: none; padding: 0; font-size:
1.05rem; line-height: 1.8; color: #444;">
          <li><strong>Team Leader:</strong> John Doe - Project Management, Mobile App Development</li>
          <li><strong>Hardware Specialist:</strong> Jane Smith - Circuit Design, Sensor Integration</li>
          <li><strong>Software Engineer:</strong> Alex Johnson - Backend Development, Firebase Integration</li>
          <li><strong>UI/UX Designer:</strong> Emily Davis - User Interface Design, User Experience Testing</li>
          <li><strong>Security Analyst:</strong> Michael Brown - Security Threat Analysis, TR64 Implementation</li>
          <li><strong>Documentation Specialist:</strong> Sarah Wilson - Project Documentation, Gantt Chart Creation</li>
        </ul>
        <p>
          </section>
      


  </main>
  </div>


    <!-- Footer section -->
    <footer style="background-color: #0a0a23; color: white; padding: 40px 20px; text-align: center;">
      <div style="max-width: 800px; margin: auto;">
        <h3 style="margin-bottom: 10px;">PharmaGate</h3>
        <p>Developed as part of Singapore Polytechnic's IoT Security Module</p>
        
        <p style="margin-top: 20px;">
          📧 <a href="mailto:pharmagate@project.com" style="color: #fff; text-decoration: underline;">pharmagate@project.com</a><br />
          📍 Singapore Polytechnic, School of EEE
        </p>

        <div style="margin-top: 20px;">
          <a href="https://github.com/" target="_blank" style="margin: 0 10px; color: white;"><i class="fa fa-github"></i></a>
          <a href="https://linkedin.com/" target="_blank" style="margin: 0 10px; color: white;"><i class="fa fa-linkedin"></i></a>
          <a href="https://youtube.com/" target="_blank" style="margin: 0 10px; color: white;"><i class="fa fa-youtube-play"></i></a>
        </div>

        <p style="margin-top: 30px; font-size: 0.9rem;">© 2025 PharmaGate Team. All rights reserved.</p>
      </div>
    </footer>

    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
    <script>AOS.init();</script>
    <script src="../js/script.js"></script>


    <!-- <script src="script.js"></script> -->

    
  
    
  </body>
</html>